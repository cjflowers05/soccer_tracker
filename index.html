<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Soccer Stat Tracker</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Orbitron', sans-serif;
      background-color: #0f172a;
      color: #f8fafc;
      margin: 0;
      padding: 1rem;
    }
    h1, h2 {
      text-align: center;
    }
    .section {
      background: #1e293b;
      border-radius: 1rem;
      padding: 1rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 0 10px rgba(0,255,100,0.2);
    }
    label, input, select, button {
      display: block;
      margin: 0.5rem auto;
      font-size: 1rem;
    }
    input, select {
      padding: 0.5rem;
      border-radius: 0.5rem;
      border: none;
      width: 80%;
    }
    button {
      background-color: #22c55e;
      color: black;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      cursor: pointer;
    }
    table {
      width: 100%;
      margin-top: 1rem;
      border-collapse: collapse;
    }
    th, td {
      border: 1px solid #334155;
      padding: 0.5rem;
      text-align: center;
    }
    .record-summary {
      font-size: 1.2rem;
      text-align: center;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <h1>Soccer Stat Tracker</h1>

  <div class="section">
    <h2>Player Stats Entry</h2>
    <form id="statForm">
      <label>Player Name: <input type="text" id="playerName" required /></label>
      <label>Shots Taken: <input type="number" id="shots" required /></label>
      <label>Goals Scored: <input type="number" id="goals" required /></label>
      <label>Assists: <input type="number" id="assists" required /></label>
      <label>Passes Attempted: <input type="number" id="passesAttempted" required /></label>
      <label>Passes Completed: <input type="number" id="passesCompleted" required /></label>
      <label>Minutes Played: <input type="number" id="minutesPlayed" required /></label>
      <label>Total Game Minutes: <input type="number" id="totalGameMinutes" required /></label>
      <button type="submit">Add Stats</button>
    </form>
  </div>

  <div class="section">
    <h2>Player Metrics</h2>
    <table id="statsTable">
      <thead>
        <tr>
          <th>Player</th>
          <th>Shot Accuracy %</th>
          <th>Goal Contribution</th>
          <th>Goals/Min</th>
          <th>Pass Accuracy %</th>
          <th>Time Played %</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <div class="section">
    <h2>Game Tracker</h2>
    <label>Half:
      <select id="half">
        <option value="1">1st Half</option>
        <option value="2">2nd Half</option>
      </select>
    </label>
    <div style="text-align:center">
      <h3 id="timerDisplay">00:00</h3>
      <button onclick="startTimer()">Start</button>
      <button onclick="pauseTimer()">Pause</button>
      <button onclick="resetTimer()">Reset</button>
    </div>
    <label>Home Score: <input type="number" id="homeScore" /></label>
    <label>Opponent Score: <input type="number" id="opponentScore" /></label>
    <button onclick="saveGameResult()">Save Result</button>
    <div class="record-summary" id="teamRecord">Team Record: 0W - 0L - 0D</div>
  </div>

  <script>
    const form = document.getElementById("statForm");
    const tableBody = document.querySelector("#statsTable tbody");
    const timerDisplay = document.getElementById("timerDisplay");
    let timer, seconds = 0;
    let wins = 0, losses = 0, draws = 0;

    form.addEventListener("submit", e => {
      e.preventDefault();
      const name = document.getElementById("playerName").value;
      const shots = +document.getElementById("shots").value;
      const goals = +document.getElementById("goals").value;
      const assists = +document.getElementById("assists").value;
      const passesAttempted = +document.getElementById("passesAttempted").value;
      const passesCompleted = +document.getElementById("passesCompleted").value;
      const minutes = +document.getElementById("minutesPlayed").value;
      const totalMinutes = +document.getElementById("totalGameMinutes").value;

      const shotAcc = shots > 0 ? (goals / shots * 100).toFixed(1) : 0;
      const goalContribution = goals + assists;
      const goalsPerMinute = minutes > 0 ? (goals / minutes).toFixed(3) : 0;
      const passAcc = passesAttempted > 0 ? (passesCompleted / passesAttempted * 100).toFixed(1) : 0;
      const timePlayedPercent = totalMinutes > 0 ? (minutes / totalMinutes * 100).toFixed(1) : 0;

      const row = `<tr><td>${name}</td><td>${shotAcc}%</td><td>${goalContribution}</td><td>${goalsPerMinute}</td><td>${passAcc}%</td><td>${timePlayedPercent}%</td></tr>`;
      tableBody.insertAdjacentHTML("beforeend", row);
      form.reset();
    });

    function startTimer() {
      if (timer) return;
      timer = setInterval(() => {
        seconds++;
        const min = String(Math.floor(seconds / 60)).padStart(2, '0');
        const sec = String(seconds % 60).padStart(2, '0');
        timerDisplay.textContent = `${min}:${sec}`;
      }, 1000);
    }

    function pauseTimer() {
      clearInterval(timer);
      timer = null;
    }

    function resetTimer() {
      pauseTimer();
      seconds = 0;
      timerDisplay.textContent = "00:00";
    }

    function saveGameResult() {
      const home = +document.getElementById("homeScore").value;
      const opponent = +document.getElementById("opponentScore").value;
      if (home > opponent) wins++;
      else if (home < opponent) losses++;
      else draws++;
      document.getElementById("teamRecord").textContent = `Team Record: ${wins}W - ${losses}L - ${draws}D`;
    }
  </script>
</body>
</html>
